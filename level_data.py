"""
Updated cave maps for Finding Dodo.
HUB adjusted to match the cave layout request:
- left shaft filled with solid rock
- HUB spikes removed
- portal to LEVEL1 moved to upper corridor
- portal to LEVEL2 moved to middle-right corridor
"""

WIDTH = 80
HEIGHT = 45

TILE_LEGEND = {
    ".": "air",
    "#": "platform/solid",
    "~": "lava",
    "^": "stalactite anchor",
    "v": "stalagmite base",
    "C": "collectible",
    "1": "portal HUB -> Level1",
    "2": "portal HUB -> Level2",
    "P": "spawn",
    "F": "final portal",
    "R": "return portal -> HUB",
}

HUB = [
    "################################################################################",
    "################################################################################",
    "################################################################################",
    "################################################################################",
    "################################################################################",
    "################################################################################",
    "################################################################################",
    "################################################################################",
    "################################################################################",
    "################################################################################",
    "################################################################################",
    "...............................................#################################",
    ".......P.......................................#################################",
    "...............................................#################################",
    ".........................................11....#################################",
    ".........................................11....#################################",
    "....############....############################################################",
    "################...................................................#############",
    "################...................................................#############",
    "################...................................................#############",
    "########################...........................................#############",
    "########################...........................................#############",
    "########################......................................22...#############",
    "########################......................................22...#############",
    "#######~~~~~~~~~#######################....#####################################",
    "#######~~~~~~~~~~######################.......................................##",
    "#####~~~~~~~~~~~~######################...................................FFFF##",
    "#####~~~~~~~~~~########################...................................FFFF##",
    "###################################################~~~~#########################",
    "####################################################~###########################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
    "....############################################################################",
]

LEVEL1 = [
    "###############################################################################.",
    "###############################################################################.",
    "############################################.......##############^^############.",
    "..#############......^^#####################.......############..^^..##########.",
    "..#############........#####################.......############...^..##########.",
    "..#############........#####...................CCC.###..........................",
    "..#############........#####...................CCC.###..........................",
    "..#######..............#####...................CCC.###.............######....RR.",
    "..#######..............#####.......................###.......................RR.",
    "..#######..............#####..................########...#########~~~~~~~~~####.",
    ".......................#####.................#########...###########~~~~#######.",
    ".......................#####................##########...############~#########.",
    ".......................#####................#######.....#######.....###########.",
    ".....................................###~~~~#######CC...............###########.",
    ".....................................####~~########CC...............###########.",
    ".....................................#####################..........###########.",
    ".....................................#####################..................###.",
    "...............................###########################..................###.",
    "...............................###############################..............###.",
    "...P...........................###############################..............###.",
    "...P................................##########################..............###.",
    "...P....................####................................................###.",
    "####....................#######...##################################........###.",
    "####....................#######...##################################........###.",
    "######...............##########...#################################.........###.",
    "######...............#######^^#...#####################################.....###.",
    "########.............#######^^....####################......................###.",
    "########.........#~~~#######^.....####################......................###.",
    "########.........##~########........##################.CCC............#########.",
    "########.........###########........##################.CCC............#########.",
    "############....################....##################................#########.",
    "############....################....#######################...........#########.",
    "############....################....##################............#############.",
    "############....###########.........##################............#############.",
    "############....###########...................................#################.",
    "############....###########...................................#################.",
    "############....################...############################################.",
    "############....################...############################################.",
    "############....################...############################################.",
    "############....################...############################################.",
    "############.vv.################...############################################.",
    "############.vv.################.v.############################################.",
    "############vvvv################.v.############################################.",
    "############vvvv################vvv############################################.",
    "############vvvv################vvv############################################.",
]

LEVEL2 = [
    "################################################################################",
    "###########.......##########################################..........##########",
    "..............................^^^^^.........................................####",
    "....PP.........................^^^.......................................CC.####",
    "....PP...................................#############.........####......CC.####",
    "############~~~~###########..............####################~~~~~~~~###########",
    "#############~#############.........##########################~~~~~~############",
    "###########################.........###########################~~~##############",
    "##################..................############################################",
    "##################...........############^^^##########....................######",
    "###########..................############^^^##########....................######",
    "###########.................#############.^.##########....................######",
    "########...........######################...####..........................######",
    "....####...........##########...............####........................CC######",
    "....##......#################...........................................CC######",
    "....##....#########.................................................#~~#########",
    "....##....########..................#############################...#~~#########",
    "....##....########..................##############################..#~~~########",
    "....##....########.................###############################..###~########",
    "....##....########..............##############^^.........#########..############",
    "....##....########..............#########....................#####..############",
    "....##....########..............#########..CC.................####..############",
    "....##....####.................##########..CC.....#~~~##......####..############",
    "....##....####...............#################..###~~~#####...####..########^^..",
    "....##....##.................#################..#~~~######...####...########^^..",
    "....##....##................##################.##~~###.......####...########^...",
    "....##....##................##########################......#####...............",
    "....##....##................#######################.......#######...............",
    "....##....##.........#####..#######################............##...............",
    "....##....##.......#######..###############............#.......##...............",
    "....##....##.......#######..........#######............#.......##...............",
    "....##....##.......#######..........#####...........######.....##.............RR",
    "....##.....#.......#######..........#####...........######.....##.............RR",
    "....##..........##############..............##~~~~##########...........###~#####",
    "....##..........########.#####..............###~############...........#########",
    "....##..........########.#####..............####~###########.........###########",
    "....##..........######....####......#############################....###########",
    "....####..############....####......#############################.....##########",
    "....####..############.....#######..#############################.....##########",
    "....##....############CC....######..#############################.....##########",
    "....##..vv############cc......####..###########################.......##########",
    "....##..vv###############.......##..###########################.......##########",
    "....##vvvv###############.............................................##########",
    "....##vvvv###############..###...................................vvvv.##########",
    "....##vvvv######################################################################",
]

LEVEL3 = [
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
    "................................................................................",
]

MAPS = {
    "HUB": HUB,
    "LEVEL1": LEVEL1,
    "LEVEL2": LEVEL2,
    "LEVEL3": LEVEL3,
}

def validate_maps():
    for name, grid in MAPS.items():
        if len(grid) != HEIGHT:
            raise ValueError(f"{name} must have {HEIGHT} rows, got {len(grid)}")
        for i, row in enumerate(grid):
            if len(row) != WIDTH:
                raise ValueError(f"{name} row {i} must have {WIDTH} columns, got {len(row)}")

validate_maps()
